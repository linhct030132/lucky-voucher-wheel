# Railway Backend Deployment Configuration
# This file configures the backend Node.js service for Railway

# Build command - includes Prisma client generation
build = "cd backend && npm install && npx prisma generate"

# Start command - run migrations, regenerate client, then start
start = "cd backend && ./scripts/railway-start.sh"

# Environment variables needed
[env]
NODE_ENV = "production"
PORT = "3001"

# Health check
[healthcheck]
path = "/health"
port = 3001

# Auto-scaling
[scaling]
min_instances = 1
max_instances = 3
